<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isolare l'Intelligenza - Il Mock LLM | Filosofia Core e Architettura | AI Team Orchestrator</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Come testare sistemi AI non-deterministici efficacemente. Strategie di mocking che funzionano davvero in produzione.">
    <meta name="keywords" content="AI testing, LLM mocking, non-deterministic testing, AI system testing, production testing">
    <meta name="author" content="Daniele Pelleri">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://books.danielepelleri.com/it/filosofia-core-architettura/isolare-intelligenza-mock-llm/">
    <link rel="alternate" hreflang="en" href="https://books.danielepelleri.com/en/core-philosophy-architecture/ai-mocking-testing-strategy/">
    <link rel="alternate" hreflang="it" href="https://books.danielepelleri.com/it/filosofia-core-architettura/isolare-intelligenza-mock-llm/">
    
    <style>
        /* Same base styles as previous chapters */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #2c3e50; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        .breadcrumb { background: rgba(255, 255, 255, 0.9); padding: 1rem 2rem; border-radius: 10px; margin-bottom: 2rem; font-size: 0.9rem; backdrop-filter: blur(10px); }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #7f8c8d; margin: 0 0.5rem; }
        .chapter-header { background: white; padding: 3rem; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); margin-bottom: 3rem; text-align: center; }
        .chapter-instrument { font-size: 4rem; margin-bottom: 1rem; }
        .chapter-meta { display: flex; justify-content: center; gap: 2rem; margin-bottom: 1rem; font-size: 0.9rem; color: #7f8c8d; flex-wrap: wrap; }
        .chapter-title { font-size: 2.5rem; color: #2c3e50; margin-bottom: 1rem; font-weight: 700; line-height: 1.2; }
        .chapter-summary { font-size: 1.2rem; color: #555; max-width: 700px; margin: 2rem auto; font-style: italic; }
        .coming-soon { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 4rem 2rem; border-radius: 20px; text-align: center; margin: 3rem 0; }
        .coming-soon h2 { font-size: 2.5rem; margin-bottom: 1rem; }
        .coming-soon p { font-size: 1.2rem; margin-bottom: 2rem; opacity: 0.9; }
        .nav-button { display: inline-flex; align-items: center; gap: 0.5rem; padding: 1rem 2rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; text-decoration: none; border-radius: 50px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4); }
        .nav-button:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6); }
        .nav-button.secondary { background: rgba(255, 255, 255, 0.9); color: #667eea; border: 2px solid #667eea; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .nav-button.secondary:hover { background: white; box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
        .chapter-nav-bottom { display: flex; justify-content: space-between; align-items: center; margin: 3rem 0; gap: 1rem; flex-wrap: wrap; }
        /* Chapter Content Styles */
        .chapter-content {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 3rem;
            line-height: 1.8;
        }
        
        .chapter-content h3, .chapter-content h4, .chapter-content h5 {
            color: #2c3e50;
            margin: 2rem 0 1rem 0;
            border-left: 4px solid #667eea;
            padding-left: 1.5rem;
        }
        
        .chapter-content h5 {
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem 0;
        }
        
        .chapter-content p {
            margin-bottom: 1.5rem;
        }
        
        .chapter-content ol, .chapter-content ul {
            margin: 1rem 0 1.5rem 2rem;
        }
        
        .chapter-content li {
            margin-bottom: 0.5rem;
        }
        
        .mermaid-container {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            text-align: center;
        }
        
        .mermaid-container h4 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            border: none;
            padding: 0;
        }
        
        .war-story {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-left: 4px solid #856404;
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .war-story-header h4 {
            color: #856404;
            margin-bottom: 1rem;
            border: none;
            padding: 0;
        }
        
        .war-story-content {
            color: #6c757d;
        }
        
        .key-takeaways {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-left: 4px solid #28a745;
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .key-takeaways h4 {
            color: #155724;
            margin-bottom: 1rem;
            border: none;
            padding: 0;
        }
        
        .key-takeaways p {
            color: #155724;
        }
        
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-size: 0.9rem;
        }
        
        code {
            background: #f1f3f4;
            color: #d73a49;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        
        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }
        
        @media (max-width: 768px) { 
            .container { 
                padding: 1rem; 
            } 
            .chapter-header { 
                padding: 2rem; 
            } 
            .chapter-title { 
                font-size: 2rem; 
            }
            .chapter-content {
                padding: 1.5rem;
            }
            .chapter-content h3, .chapter-content h4, .chapter-content h5 {
                font-size: 1.3rem;
            }
            .war-story, .key-takeaways, .mermaid-container {
                padding: 1.5rem;
            }
            .chapter-nav-bottom { 
                flex-direction: column; 
                text-align: center; 
            } 
        }
        /* Reader Tools */
        .reader-tools {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            transition: all 0.3s ease;
            min-width: 60px;
        }
        
        .reader-tools.collapsed {
            width: 60px;
            padding: 0.8rem;
        }
        
        .reader-tool {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            color: #495057;
            font-size: 0.85rem;
            white-space: nowrap;
        }
        
        .reader-tool:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .reader-tool.active {
            background: #667eea;
            color: white;
        }
        
        .reader-tool-icon {
            font-size: 1.1rem;
            flex-shrink: 0;
        }
        
        .reader-tool-label {
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .collapsed .reader-tool-label {
            display: none;
        }
        
        .reader-tools-toggle {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Language Switcher */
        .language-switcher {
            display: flex;
            background: rgba(0,0,0,0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        
        .language-select {
            padding: 0.3rem 0.6rem;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 0.7rem;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.2s ease;
            width: 100%;
            border-radius: 6px;
        }
        
        .language-select:focus {
            outline: none;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .language-option {
            padding: 0.3rem 0.6rem;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 0.7rem;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.2s ease;
        }
        
        .language-option.active {
            background: #667eea;
            color: white;
        }
        
        /* Reading Progress */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(102, 126, 234, 0.2);
            z-index: 1001;
        }
        
        .reading-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* Dark Mode */
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e9ecef;
        }
        
        .dark-mode .container {
            color: #e9ecef;
        }
        
        .dark-mode .chapter-header,
        .dark-mode .chapter-content {
            background: rgba(255, 255, 255, 0.05);
            color: #e9ecef;
        }
        
        .dark-mode .breadcrumb {
            background: rgba(255, 255, 255, 0.1);
            color: #e9ecef;
        }
        
        .dark-mode .reader-tools {
            background: rgba(0, 0, 0, 0.8);
            color: #e9ecef;
        }
        
        .dark-mode .reader-tool {
            color: #e9ecef;
        }
        
        .dark-mode .reader-tool:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Dark Mode - Headings and Titles */
        .dark-mode .chapter-title,
        .dark-mode .chapter-content h3,
        .dark-mode .chapter-content h4,
        .dark-mode .chapter-content h5 {
            color: #e9ecef !important;
        }
        
        .dark-mode .chapter-content p,
        .dark-mode .chapter-content li,
        .dark-mode .chapter-content strong {
            color: #e9ecef;
        }
        
        .dark-mode .takeaway-item {
            color: #e9ecef;
        }
        
        /* Navigation Container Fix */
        .chapter-nav-bottom {
            max-width: 100%;
            box-sizing: border-box;
            padding: 0 1rem;

        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .reader-tools {
                right: 10px;
                padding: 0.8rem;
                min-width: 50px;
            }
            
            .reader-tools.collapsed {
                width: 50px;
                padding: 0.6rem;
            }
            
            .reader-tool {
                padding: 0.5rem;
            }
            
            .reader-tool-label {
                font-size: 0.75rem;
            }
        }

        /* Fixed Bookmark Toast */
        .bookmark-toast {
            position: fixed;
            top: 80px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            z-index: 1002;
            transform: translateX(350px);
            opacity: 0;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
            pointer-events: none;
        }
        
        .bookmark-toast.show {
            transform: translateX(0);
            opacity: 1;
            pointer-events: auto;
        }
        
        .bookmark-toast.error {
            background: #dc3545;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
        }

        /* Bookmarks Modal */
        .bookmarks-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .bookmarks-modal.show {
            display: flex;
        }
        
        .bookmarks-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .bookmarks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f8f9fa;
        }
        
        .bookmarks-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin: 0;
        }
        
        .bookmarks-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.2s ease;
        }
        
        .bookmarks-close:hover {
            background: #f8f9fa;
            color: #2c3e50;
        }
        
        .bookmark-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            transition: all 0.2s ease;
        }
        
        .bookmark-item:hover {
            background: #e9ecef;
        }
        
        .bookmark-info {
            flex: 1;
        }
        
        .bookmark-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.25rem;
            font-size: 1rem;
        }
        
        .bookmark-url {
            font-size: 0.8rem;
            color: #667eea;
            text-decoration: none;
        }
        
        .bookmark-url:hover {
            text-decoration: underline;
        }
        
        .bookmark-date {
            font-size: 0.75rem;
            color: #7f8c8d;
            margin-top: 0.25rem;
        }
        
        .bookmark-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .bookmark-action {
            background: none;
            border: none;
            padding: 0.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
        }
        
        .bookmark-action:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .bookmark-action.delete:hover {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .no-bookmarks {
            text-align: center;
            padding: 3rem 2rem;
            color: #7f8c8d;
        }
        
        .no-bookmarks-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        /* Dark Mode for Bookmarks Modal */
        .dark-mode .bookmarks-content {
            background: rgba(26, 26, 46, 0.95);
            color: #e9ecef;
        }
        
        .dark-mode .bookmarks-title {
            color: #e9ecef;
        }
        
        .dark-mode .bookmarks-close {
            color: #e9ecef;
        }
        
        .dark-mode .bookmarks-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dark-mode .bookmark-item {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .dark-mode .bookmark-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dark-mode .bookmark-title {
            color: #e9ecef;
        }


    </style>

    <style>
    .contextual-link {
        color: #667eea;
        text-decoration: none;
        font-weight: 500;
        border-bottom: 1px dotted #667eea;
        transition: all 0.2s ease;
    }
    
    .contextual-link:hover {
        color: #5a6fd8;
        border-bottom-style: solid;
    }
    
    .dark-mode .contextual-link {
        color: #9bb5ff;
        border-bottom-color: #9bb5ff;
    }
    </style>
        <style>

/* ========================================
   NARRATIVE LINKING SYSTEM STYLES
   ======================================== */

/* Contextual Links */
.contextual-link {
    color: #3b82f6;
    text-decoration: none;
    border-bottom: 1px solid rgba(59, 130, 246, 0.3);
    transition: all 0.2s ease;
    padding-bottom: 1px;
}

.contextual-link:hover {
    color: #1d4ed8;
    border-bottom-color: #1d4ed8;
    background: rgba(59, 130, 246, 0.05);
    padding: 2px 4px;
    margin: -2px -4px;
    border-radius: 3px;
}

/* Narrative Callouts */
.narrative-callout {
    margin: 2rem 0;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.narrative-callout.next-step {
    border-left: 4px solid #10b981;
    background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
}

.narrative-callout.evolution {
    border-left: 4px solid #f59e0b;
    background: linear-gradient(135deg, #fffbeb 0%, #fefce8 100%);
}

.callout-header {
    display: flex;
    align-items: center;
    margin-bottom: 0.75rem;
}

.callout-icon {
    font-size: 1.25rem;
    margin-right: 0.5rem;
}

.callout-header h4 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: #1f2937;
}

.narrative-link {
    color: #059669;
    text-decoration: none;
    font-weight: 500;
    border-bottom: 2px solid rgba(5, 150, 105, 0.2);
    transition: all 0.2s ease;
}

.narrative-link:hover {
    color: #047857;
    border-bottom-color: #047857;
    background: rgba(5, 150, 105, 0.1);
    padding: 2px 4px;
    margin: -2px -4px;
    border-radius: 4px;
}

.callout-meta {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    font-size: 0.875rem;
    color: #6b7280;
}

/* Journey Progress */
.journey-progress {
    margin-top: 1rem;
}

.progress-bar {
    width: 100%;
    height: 4px;
    background: rgba(249, 115, 22, 0.2);
    border-radius: 2px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #f97316 0%, #ea580c 100%);
    border-radius: 2px;
    transition: width 0.3s ease;
}

.progress-text {
    display: block;
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: #9ca3af;
}

/* Related Chapters */
.related-chapters {
    margin: 2.5rem 0;
    padding: 2rem;
    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

.related-chapters h4 {
    margin: 0 0 1.5rem 0;
    font-size: 1.2rem;
    color: #1f2937;
    display: flex;
    align-items: center;
}

.related-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.related-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.25rem;
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    transition: all 0.2s ease;
}

.related-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.1);
    border-color: #3b82f6;
}

.related-icon {
    font-size: 1.5rem;
    min-width: 2rem;
}

.related-content {
    flex: 1;
}

.related-link {
    color: #1f2937;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.2s ease;
}

.related-link:hover {
    color: #3b82f6;
}

.related-desc {
    margin: 0.5rem 0;
    color: #6b7280;
    font-size: 0.9rem;
    line-height: 1.4;
}

.related-connection {
    font-size: 0.8rem;
    color: #9ca3af;
    font-style: italic;
}

/* Dark Mode Support */
.dark-mode .narrative-callout {
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
    border-color: #374151;
    color: #f9fafb;
}

.dark-mode .related-chapters {
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
    border-color: #374151;
}

.dark-mode .related-item {
    background: #1f2937;
    border-color: #374151;
}

.dark-mode .related-link {
    color: #f9fafb;
}

.dark-mode .related-link:hover {
    color: #60a5fa;
}

/* Responsive Design */
@media (max-width: 768px) {
    .narrative-callout {
        margin: 1.5rem 0;
        padding: 1.25rem;
    }
    
    .related-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .related-item {
        padding: 1rem;
    }
    
    .callout-meta {
        flex-direction: column;
        gap: 0.5rem;
    }
}
    </style>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICAgIDxkZWZzPgogICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQxIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2NjdlZWE7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3NjRiYTI7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPC9kZWZzPgogICAgICAgIDwhLS0gQmFja2dyb3VuZCBjaXJjbGUgLS0+CiAgICAgICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9InVybCgjZ3JhZDEpIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgICAgIDwhLS0gQUkgQnJhaW4gaWNvbiAtLT4KICAgICAgICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjEzIiByPSI4IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgICAgIDxjaXJjbGUgY3g9IjEzIiBjeT0iMTEiIHI9IjEiIGZpbGw9IiNmZmYiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIxOSIgY3k9IjExIiByPSIxIiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPHBhdGggZD0iTTEyIDE1YzEgMiAzIDIgNCAyczMgMCA0LTIiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgIDwhLS0gVGVhbSBvcmNoZXN0cmF0aW9uIGxpbmVzIC0tPgogICAgICAgIDxwYXRoIGQ9Ik04IDI0TDE2IDIwTDI0IDI0IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgPGNpcmNsZSBjeD0iOCIgY3k9IjI0IiByPSIyIiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIyMCIgcj0iMiIgZmlsbD0iI2ZmZiIvPgogICAgICAgIDxjaXJjbGUgY3g9IjI0IiBjeT0iMjQiIHI9IjIiIGZpbGw9IiNmZmYiLz4KICAgIDwvc3ZnPgogICAg">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICAgIDxkZWZzPgogICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQxIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2NjdlZWE7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3NjRiYTI7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPC9kZWZzPgogICAgICAgIDwhLS0gQmFja2dyb3VuZCBjaXJjbGUgLS0+CiAgICAgICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9InVybCgjZ3JhZDEpIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgICAgIDwhLS0gQUkgQnJhaW4gaWNvbiAtLT4KICAgICAgICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjEzIiByPSI4IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPgogICAgICAgIDxjaXJjbGUgY3g9IjEzIiBjeT0iMTEiIHI9IjEiIGZpbGw9IiNmZmYiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIxOSIgY3k9IjExIiByPSIxIiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPHBhdGggZD0iTTEyIDE1YzEgMiAzIDIgNCAyczMgMCA0LTIiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgIDwhLS0gVGVhbSBvcmNoZXN0cmF0aW9uIGxpbmVzIC0tPgogICAgICAgIDxwYXRoIGQ9Ik04IDI0TDE2IDIwTDI0IDI0IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgPGNpcmNsZSBjeD0iOCIgY3k9IjI0IiByPSIyIiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIyMCIgcj0iMiIgZmlsbD0iI2ZmZiIvPgogICAgICAgIDxjaXJjbGUgY3g9IjI0IiBjeT0iMjQiIHI9IjIiIGZpbGw9IiNmZmYiLz4KICAgIDwvc3ZnPgogICAg">
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../ai-team-orchestrator.html">🏠 AI Team Orchestrator</a>
            <span>›</span>
            <a href="../">🎻 Filosofia Core e Architettura</a>
            <span>›</span>
            <span>Isolare l'Intelligenza - Mock LLM</span>
        </nav>

        <header class="chapter-header">
            <div class="chapter-instrument">🧪</div>
            <div class="chapter-meta">
                <span>🎻 Movimento 1 di 4</span>
                <span>📖 Capitolo 3 di 42</span>
                <span>⏱️ ~18 min lettura</span>
                <span>📊 Livello: Avanzato</span>
            </div>
            <h1 class="chapter-title">Isolare l'Intelligenza - Il Mock LLM</h1>
            <p class="chapter-summary">
                Come testare sistemi AI non-deterministici efficacemente. 
                Strategie di mocking che funzionano davvero in produzione.
            </p>
        </header>

        <!-- Chapter Content -->
        <article class="chapter-content">
            <p>Avevamo un <code>SpecialistAgent</code> ben definito, un'architettura pulita e un contratto dati robusto. Eravamo pronti a costruire il resto del sistema. Ma ci siamo subito scontrati con un problema tanto banale quanto bloccante: <strong>come si testa un sistema il cui cuore è una chiamata a un servizio esterno, imprevedibile e costoso come un LLM?</strong></p>
            
            <p>Ogni esecuzione dei nostri test di integrazione avrebbe comportato:</p>
            <ol>
                <li><strong>Costi Monetari:</strong> Chiamate reali alle API di OpenAI.</li>
                <li><strong>Lentezza:</strong> Attese di secondi, a volte minuti, per una risposta.</li>
                <li><strong>Non-Determinismo:</strong> Lo stesso input poteva produrre output leggermente diversi, rendendo i test inaffidabili.</li>
            </ol>
            
            <div class="mermaid-container">
                <h4>AI Provider Abstraction Layer</h4>
                <div class="mermaid">
graph TD
    A[Agente Esecutore] -->
    B{AI Provider Abstraction}
    B -->
    C{È Abilitato il Mocking?}
    C -- Sì -->
    D[Restituisci Risposta Mock]
    C -- No -->
    E[Inoltra Chiamata a OpenAI SDK]
    D -->
    F[Risposta Immediata e Controllata]
    E -->
    F
    F -->
    A
    
    subgraph "Logica di Test"
        C
        D
    end
    
    subgraph "Logica di Produzione"
        E
    end
</div>
            </div>
            
            <div class="war-story">
                <div class="war-story-header">
                    <h4>"War Story": Il Commit che ha Salvato il Budget (e il Progetto)</h4>
                </div>
                <div class="war-story-content">
                    <p><em>Evidenza dal Log di Git: <code>f7627da (Fix stubs and imports for tests)</code></em></p>
                    
                    <p>Questa modifica, apparentemente innocua, è stata una delle più importanti della fase iniziale. Prima di questo commit, i nostri primi test di integrazione, eseguiti in un ambiente di CI, facevano <strong>chiamate reali alle API di OpenAI</strong>.</p>
                    
                    <p>Il primo giorno, abbiamo consumato oltre €40 del nostro budget giornaliero auto-finanziato di €100, semplicemente perché ogni push su un branch avviava una serie di test che chiamavano <code>gpt-4</code> decine di volte.</p>
                    
                    <h5>Il Contesto Finanziario: L'AI in un Progetto di Learning Auto-Finanziato</h5>
                    
                    <p>La nostra non era solo una preoccupazione tecnica. Come progetto di learning personale auto-finanziato, avevamo stabilito un budget massimo di <strong>€100 al giorno</strong> per le API. Come evidenzia l'analisi di Tunguz, l'AI sta rapidamente diventando una delle principali voci di spesa in R&D, potendo raggiungere facilmente il 10-15% del budget totale.</p>
                    
                    <p><strong>La lezione è stata brutale ma fondamentale:</strong> <em>Un sistema AI che non può essere testato in modo economico e affidabile è un sistema che non può essere sviluppato in modo sostenibile.</em></p>
                    
                    <h5>La Scoperta dei Tier OpenAI: Pianificazione Strategica del Budget</h5>
                    
                    <p>Durante la sfida della gestione del budget, abbiamo imparato a conoscere intimamente il sistema dei <strong>tier di utilizzo OpenAI</strong>:</p>
                    
                    <ul>
                        <li><strong>Tier 1 (dopo €5 spesi):</strong> €100/mese di limite - perfetto per prototipazione</li>
                        <li><strong>Tier 2 (€50 spesi + 7 giorni):</strong> €500/mese - sviluppo serio</li>
                        <li><strong>Tier 3 (€100 spesi + 7 giorni):</strong> €1.000/mese - team di sviluppo</li>
                        <li><strong>Tier 4 (€250 spesi + 14 giorni):</strong> €5.000/mese - produzione PMI</li>
                        <li><strong>Tier 5 (€1.000 spesi + 30 giorni):</strong> €200.000/mese - scala enterprise</li>
                    </ul>
                    
                    <p>La nostra strategia: <strong>95% di test con mock per sviluppo rapido ed economico, 5% di test reali per validazione finale</strong>.</p>
                    
                    <h5>L'Effetto CLI Coding: Quando i Test si Moltiplicano</h5>
                    
                    <p>Ironicamente, proprio mentre riuscivamo a contenere i costi delle API con i mock, una nuova sfida emergeva: l'avvento dei <strong>CLI di coding assistito dall'AI</strong>. Strumenti come Claude Code, GitHub Copilot CLI e Cursor hanno rivoluzionato il nostro modo di scrivere codice.</p>
                    
                    <p>Dove prima scrivevamo manualmente 10 test per componente, ora con l'assistenza AI ne generiamo facilmente 100+ in pochi minuti. Il paradosso: mentre il <em>costo per test</em> scende, il <em>volume totale dei test</em> cresce esponenzialmente.</p>
                    
                    <p>L'implementazione dell'AI Abstraction Layer non è stata quindi solo una best practice; è stata una <strong>decisione di sopravvivenza economica</strong>:</p>
                    
                    <ul>
                        <li><strong>Gratuiti:</strong> 99% dei test ora girano senza costi API</li>
                        <li><strong>Veloci:</strong> Da 10 minuti a 30 secondi per suite completa</li>
                        <li><strong>Affidabili:</strong> Test deterministici e ripetibili</li>
                    </ul>
                </div>
            </div>
            
            <div class="key-takeaways">
                <h4>Finale del Terzo Movimento</h4>
                <p>Isolare l'intelligenza è stato il passo che ci ha permesso di passare da "sperimentare con l'AI" a "fare ingegneria del software con l'AI". Ci ha dato la fiducia e gli strumenti per costruire il resto dell'architettura su fondamenta solide e testabili.</p>
                <p>Con un singolo agente robusto e un ambiente di test affidabile, eravamo finalmente pronti ad affrontare la sfida successiva: far collaborare più agenti. Questo ci ha portato alla creazione del <strong>Direttore d'Orchestra</strong>, il cuore pulsante del nostro team AI.</p>
            </div>
        </article>

        <div class="container">
    <nav class="chapter-nav-bottom">
            <a href="../primo-agente-specialist-architecture/" class="nav-button secondary">
                ← Capitolo 2: Il Primo Agente
            </a>
            <a href="../sdk-vs-api-battle/" class="nav-button">
                Prossimo: SDK vs API →
            </a>
        </nav>
    </div>
</div>

    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#2c3e50',
                primaryBorderColor: '#667eea',
                lineColor: '#7f8c8d',
                secondaryColor: '#f8f9fa',
                tertiaryColor: '#ffffff'
            }
        });
    </script>

    <!-- Prism.js for code highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VEGK4VZMG0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VEGK4VZMG0');
        
        gtag('event', 'chapter_start', {
            'chapter_title': 'Isolare l\'Intelligenza - Il Mock LLM',
            'movement': 'filosofia-core-architettura',
            'chapter_number': 3
        });
    </script>

                <!-- Reader Tools -->
        <div class="reader-tools" id="readerTools">
            <button class="reader-tools-toggle" onclick="toggleReaderTools()">⚙</button>
            <div class="reader-tool" onclick="toggleTheme()">
                <span class="reader-tool-icon" id="themeIcon">🌙</span>
                <span class="reader-tool-label">Tema</span>
            </div>
            <div class="reader-tool" onclick="toggleBookmark()">
                <span class="reader-tool-icon">🔖</span>
                <span class="reader-tool-label">Bookmark</span>
            </div>
            <div class="reader-tool" onclick="showBookmarks()">
                <span class="reader-tool-icon">📚</span>
                <span class="reader-tool-label">I Miei Bookmark</span>
            </div>
            <div class="reader-tool">
                <span class="reader-tool-icon">🌐</span>
                <select class="language-select" onchange="switchLanguage(this.value)">
                    <option value="it" selected>Italiano</option>
                    <option value="en">English</option>
                </select>
            </div>
            <div class="reader-tool" onclick="showFontSizeMenu()">
                <span class="reader-tool-icon">🔤</span>
                <span class="reader-tool-label">Dimensione Font</span>
            </div>
        </div>
        
        <!-- Reading Progress -->
        <div class="reading-progress">
            <div class="reading-progress-fill" id="progressFill"></div>
        </div>
        
        <!-- Bookmark Toast -->
        <div class="bookmark-toast" id="bookmarkToast">
            <span id="bookmarkMessage">Bookmark salvato!</span>
        </div>

        </body>
</html>