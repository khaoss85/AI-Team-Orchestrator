{
  "test_started": "2025-06-22T17:46:34.499247",
  "steps": {
    "1_health_check": {
      "success": true,
      "timestamp": "2025-06-22T17:46:34.898821",
      "data": {
        "status": "ok",
        "version": "0.1.0"
      },
      "error": null
    },
    "2_create_workspace": {
      "success": true,
      "timestamp": "2025-06-22T17:46:36.501081",
      "data": {
        "id": "bc29a2f2-884f-4ba3-b84f-a5496c3565fa",
        "name": "Test E2E Auto-Start Workspace",
        "description": "Raccogliere 500 contatti ICP (CMO/CTO di aziende SaaS europee) e suggerire almeno 3 sequenze email da impostare su Hubspot",
        "user_id": "2a00fd0c-06c0-4fa5-a05c-f1a0daf818ae",
        "status": "created",
        "goal": "Generate 500 ICP contacts and create 3 email sequences for European SaaS companies",
        "budget": null,
        "created_at": "2025-06-22T15:46:36.504321Z",
        "updated_at": "2025-06-22T15:46:36.504321Z"
      },
      "error": null
    },
    "3_extract_goals": {
      "success": true,
      "timestamp": "2025-06-22T17:47:30.532733",
      "data": {
        "total_goals": 7,
        "strategic_deliverables": 5,
        "final_metrics": 2
      },
      "error": null
    },
    "4_confirm_goals": {
      "success": true,
      "timestamp": "2025-06-22T17:47:31.500681",
      "data": {
        "confirmed_goals": 7,
        "message": "\u2705 7 obiettivi confermati e team avviato automaticamente!"
      },
      "error": null
    },
    "5_generate_team_proposal": {
      "success": true,
      "timestamp": "2025-06-22T17:47:46.315608",
      "data": {
        "id": "d29efe7b-e520-4193-af22-a235d2e1e0af",
        "workspace_id": "bc29a2f2-884f-4ba3-b84f-a5496c3565fa",
        "agents": [
          {
            "workspace_id": "bc29a2f2-884f-4ba3-b84f-a5496c3565fa",
            "name": "ProjectManager",
            "first_name": null,
            "last_name": null,
            "role": "Project Manager",
            "seniority": "senior",
            "description": "Fallback: Manages project execution, coordinates team, ensures efficient completion.",
            "system_prompt": "You are a Project Manager. Your expertise covers: project planning, team coordination.\nKEY PRINCIPLES:\n1. Execute tasks within your defined area of expertise with precision and high quality.\n2. Provide concrete, actionable results and complete deliverables directly.\n3. Do NOT delegate tasks back to the Project Manager that fall within your expertise. Escalate to the Project Manager ONLY for critical roadblocks, tasks clearly outside your scope (after attempting to clarify), or for significant project-level decisions.\n4. Focus on task completion and quality, minimizing unnecessary coordination overhead.\n5. Collaborate directly with other specialists when interdependent tasks arise, keeping the Project Manager informed of significant progress and critical interactions that may impact the project timeline or scope.",
            "llm_config": {
              "model": "gpt-4.1-mini",
              "temperature": 0.3
            },
            "tools": [
              {
                "type": "web_search",
                "name": "web_search",
                "description": "Enables searching the web for current information."
              },
              {
                "type": "file_search",
                "name": "file_search",
                "description": "Enables searching through provided documents and knowledge base."
              }
            ],
            "can_create_tools": false,
            "personality_traits": null,
            "communication_style": null,
            "hard_skills": null,
            "soft_skills": null,
            "background_story": null
          }
        ],
        "handoffs": [],
        "estimated_cost": {
          "total_estimated_cost": 450,
          "currency": "EUR",
          "breakdown_by_agent": {
            "ProjectManager": 450
          }
        },
        "rationale": "Fallback minimal team due to an issue in proposal generation. Please review. | Strategic Enhancement: obiettivi confermati dall'utente, 5 deliverable strategici identificati, autonomia AI: 5 che richiedono assistenza, deliverable assegnati: ProjectManager.",
        "user_feedback": null,
        "created_at": "2025-06-22T15:47:46.331582Z",
        "status": "pending"
      },
      "error": null
    },
    "6_approve_team": {
      "success": true,
      "timestamp": "2025-06-22T17:47:46.708774",
      "data": {
        "status": "success",
        "message": "Team approved and auto-start triggered for 7 goals!",
        "workspace_id": "bc29a2f2-884f-4ba3-b84f-a5496c3565fa",
        "proposal_id": "d29efe7b-e520-4193-af22-a235d2e1e0af",
        "created_agent_ids": [
          "76478c5c-f750-4b87-b8b6-0e6c1c0277b5"
        ],
        "created_handoff_ids": [],
        "auto_start_triggered": true
      },
      "error": null
    },
    "7_verify_auto_start_trigger": {
      "success": true,
      "timestamp": "2025-06-22T17:48:06.842355",
      "data": {
        "tasks_count": 2,
        "endpoint_used": "/workspaces/bc29a2f2-884f-4ba3-b84f-a5496c3565fa/tasks",
        "sample_tasks": [
          {
            "id": "bc7c3976-7d52-4a09-9d2b-95c28593c7ba",
            "title": "Analyze the workspace goal to break it down into 3"
          },
          {
            "id": "75ae7b47-108b-4cdb-bf3c-1bf2e9eaa2c8",
            "title": "**PROJECT KICK-OFF: STRATEGIC PLANNING & TASK DEFI"
          }
        ]
      },
      "error": null
    },
    "8_check_task_generation": {
      "success": true,
      "timestamp": "2025-06-22T17:48:06.976945",
      "data": {
        "total_tasks": 2,
        "pending_tasks": 1,
        "in_progress_tasks": 1,
        "completed_tasks": 0,
        "task_types": [
          "unknown"
        ],
        "agents_assigned": []
      },
      "error": null
    },
    "9_system_health_check": {
      "success": false,
      "timestamp": "2025-06-22T17:48:08.660356",
      "data": {
        "workspace_status": true,
        "goals_exist": false,
        "tasks_exist": true,
        "monitoring_active": false
      },
      "error": "Some health checks failed"
    }
  },
  "errors": [],
  "success": false,
  "test_completed": "2025-06-22T17:48:08.660400"
}